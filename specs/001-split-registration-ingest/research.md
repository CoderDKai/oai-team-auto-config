# 研究与决策记录 (Research & Decisions)

## 1. 决策：将工作流拆分为两个独立脚本
**决策内容**：将现有的统一工作流拆分为“注册”和“入库”两个独立脚本。

### 1.1 理由 (Rationale)
- **关注点分离**：注册与入库属于不同阶段，拆分后便于独立排查问题并降低单次执行复杂度。
- **鲁棒性**：注册失败不会直接中断入库脚本的批量执行。
- **操作灵活性**：支持不同触发机制（例如定时入库、人工注册）。
- **参数校验清晰**：两个脚本的参数需求不同，拆分后可更明确地定义与校验。

### 1.2 备选方案 (Alternatives Considered)
- **保持单一脚本并使用子命令**：优点是入口集中，缺点是脚本复杂度升高且维护成本较高。
- **引入服务化或数据库持久化层**：超出当前需求范围，增加部署与运维成本。

## 2. 决策：支持多种参数输入形式
**决策内容**：两个脚本均需支持命令行内联参数与文件输入形式。

### 2.1 理由 (Rationale)
- **易用性**：小批量操作时内联参数更快捷。
- **自动化友好**：批量任务更适合通过文件输入管理。

### 2.2 备选方案 (Alternatives Considered)
- **仅支持文件输入**：降低灵活性，不利于快速测试。
- **仅支持内联参数**：不利于批量与自动化处理。
